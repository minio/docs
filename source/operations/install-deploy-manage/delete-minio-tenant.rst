.. _minio-k8s-delete-minio-tenant:

=====================
Delete a MinIO Tenant
=====================

.. default-domain:: minio

.. contents:: Table of Contents
   :local:
   :depth: 1

Prerequisites
-------------

MinIO Kubernetes Operator
~~~~~~~~~~~~~~~~~~~~~~~~~

This procedures on this page *requires* a valid installation of the MinIO Kubernetes Operator and assumes the local host has a matching installation of the MinIO Kubernetes Operator.
This procedure assumes the latest stable Operator, version |operator-version-stable|.

See :ref:`deploy-operator-kubernetes` for complete documentation on deploying the MinIO Operator.


Tenant Persistent Volume Claims
-------------------------------

The delete behavior of each Persistent Volume Claims (``PVC``) generated by the Tenant depends on the :kube-docs:`Reclaim Policy <concepts/storage/persistent-volumes/#reclaim-policy>` of its bound Persistent Volume (``PV``):

- For ``recycle`` or ``delete`` policies, the command deletes the ``PVC``.

- For ``retain``, the command retains the ``PVC``.

.. warning::

   Deletion of the underlying ``PV``, whether automatic or manual, results in the loss of any objects stored on the MinIO Tenant. 

   Perform all due diligence in ensuring the safety of stored data *prior* to deleting the Tenant.

Procedure
---------

.. tab-set::

   .. tab-item:: Kustomization

      You can delete a Kustomization-installed Tenant by deleting the namespace:

      .. code-block:: shell
         
         kubectl delete namespace TENANT-NAMESPACE

      Replace ``TENANT-NAMESPACE`` with the name of the namespace to remove.

      .. important::

         Ensure you have specified the correct namespace for removal before running the command.
         Namespace removal occurs at the Kubernetes layer, such that the MinIO Operator cannot interfere with nor undo the operation.

   .. tab-item:: Helm

      You can delete a Helm-installed namespace by using the ``helm uninstall`` command:

      .. code-block:: shell

         helm uninstall --namespace MINIO-TENANT TENANT-NAME minio-operator/tenant

      The command above assumes use of the MinIO Operator Chart repository.
      If you installed the Chart manually or by using a different repository name, specify that chart or name in the command.

      Replace ``TENANT-NAME`` and ``TENANT-NAMESPACE`` with the name and namespace of the Tenant respectively.
      You can use ``helm list -n TENANT-NAMESPACE`` to validate the Tenant name.
